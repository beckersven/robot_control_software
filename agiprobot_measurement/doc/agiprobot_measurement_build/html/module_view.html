

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>View &mdash; Agiprobot Measurement 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'1.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Sensor Model" href="module_sensor_model.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Agiprobot Measurement
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Explanation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="view_planning_detailed.html">View Planning Detailed</a></li>
</ul>
<p class="caption"><span class="caption-text">Components</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="module_trajectory_manager.html">Trajectory Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_sensor_model.html">Sensor Model</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">View</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction-and-basic-ideas">Introduction and Basic Ideas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#commonly-used-terms">Commonly Used Terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visualization-of-concepts">Visualization of Concepts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-agiprobot_measurement.view">API-Specification</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Agiprobot Measurement</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>View</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/module_view.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="view">
<span id="id1"></span><h1>View<a class="headerlink" href="#view" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction-and-basic-ideas">
<h2>Introduction and Basic Ideas<a class="headerlink" href="#introduction-and-basic-ideas" title="Permalink to this headline">¶</a></h2>
<p>A View is a container of one measurement-trajectory with extra-functionality.</p>
<p>It can store besides the actual measurement-trajectory another trajectory towards its
measurement trajectory as well as quantitative metrological predictions about the measurement. A View can construct itself in a bare geometrical sense: Given a surface point,
a anchor-position as well as an orientation of the laser_emitter_frame are created so that the z-axis of this frame points towards this surface_point, when in anchor-position.</p>
<div class="section" id="commonly-used-terms">
<h3>Commonly Used Terms<a class="headerlink" href="#commonly-used-terms" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>surface-point: The sampled surface point on the target-mesh this view is based on</li>
<li>anchor-position: The position this view’s trajectory goes through and where its laser_emitter_frame’s z-axis points towards the corresponding surface-point</li>
<li><dl class="first docutils">
<dt>laser_emitter_frame: Frame positioned at the scanners’s laser-emitter (“where the laser leaves the scanner”) that is moved along the straight trajectory during execution</dt>
<dd><ul class="first last">
<li>x-axis points in the trajectory-direction</li>
<li>z-axis points towards the corresponding surface-point when it becomes measured</li>
<li>y-axis results from the right-handedness of the coordinate-system</li>
<li>During trajectory-execution, the orientation of this frame is constant in the ‘world’-frame but the position changes</li>
</ul>
</dd>
</dl>
</li>
<li>angle-around-boresight: Angle for rotation of this views straight-trajectory around the laser_emitter_frame’s z-axis in anchor-position</li>
</ul>
</div>
<div class="section" id="visualization-of-concepts">
<h3>Visualization of Concepts<a class="headerlink" href="#visualization-of-concepts" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<img alt="_images/view_geometry.png" src="_images/view_geometry.png" />
</div>
</div>
</div>
<div class="section" id="module-agiprobot_measurement.view">
<span id="api-specification"></span><h2>API-Specification<a class="headerlink" href="#module-agiprobot_measurement.view" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="agiprobot_measurement.view.View">
<em class="property">class </em><code class="descclassname">agiprobot_measurement.view.</code><code class="descname">View</code><span class="sig-paren">(</span><em>surface_point</em>, <em>surface_normal</em>, <em>angle_around_boresight</em>, <em>standoff_distance</em>, <em>tilt_theta=0</em>, <em>tilt_gamma=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for keeping track about one view.
A view consists on the one hand of geometrical specifications (about location and length of the view and execution informations), on the other
hand of metrological specifications (e.g. what can be measured by this view).</p>
<dl class="method">
<dt id="agiprobot_measurement.view.View.get_anchor_position">
<code class="descname">get_anchor_position</code><span class="sig-paren">(</span><em>as_matrix=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View.get_anchor_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View.get_anchor_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the laser_emitter_frame’s position that was generated during construction. This is the point where the z-axis of the laser_emitter_frame
hits the surface_point of the target mesh that was used to design this view. Keep in mind that ‘anchor’ does not necessarely mean ‘anchor’ of the trajectory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>as_matrix</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to give the translation as homogeneous 4x4-matrix or vector, defaults to False</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Homogeneous 4x4-matrix or vector of the view’s anchor position</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">np.array (dimensions depend on parameter as_matrix)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="agiprobot_measurement.view.View.get_measurable_surface_point_indices">
<code class="descname">get_measurable_surface_point_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View.get_measurable_surface_point_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View.get_measurable_surface_point_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the surface_point-indices measurable by this view’s measurement-trajectory. The indices are abstract and are only useful 
when inserted into an externally maintained list of the actual surface points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Surface_point-indices measurable by this view’s measurement-trajectory of an external list</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list[int]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="agiprobot_measurement.view.View.get_measurable_surface_point_scores">
<code class="descname">get_measurable_surface_point_scores</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View.get_measurable_surface_point_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View.get_measurable_surface_point_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the uncertainty scores of each measurable surface point. The values in the returned list must be matched with the
actual surface points in an external viewpoint list using this views measurable_surface_point_indices: The uncertainty-score at index i
is meant for the surface_point in the external list evaluated at index measurable_surface_point_indices[i].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Uncertainty scores of each measurable surface point</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list[float]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="agiprobot_measurement.view.View.get_orientation_matrix">
<code class="descname">get_orientation_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View.get_orientation_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View.get_orientation_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the orientation of the laser_emitter_frame of this view. The orientation (not the position) remains the same for every point on the assigned measurement-trajectory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Orientation of the laser_emitter_frame</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="agiprobot_measurement.view.View.get_surface_point">
<code class="descname">get_surface_point</code><span class="sig-paren">(</span><em>as_matrix=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View.get_surface_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View.get_surface_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the position of the surface point this view is based on. This is not the same as the view_anchor-point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>as_matrix</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to give the translation as homogeneous 4x4-matrix or vector, defaults to False</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Homogeneous 4x4-matrix or vector of the surface point</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.array (dimensions depend on parameter as_matrix)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="agiprobot_measurement.view.View.get_trajectory_for_measurement">
<code class="descname">get_trajectory_for_measurement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View.get_trajectory_for_measurement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View.get_trajectory_for_measurement" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns trajectory that is performed to execute the measurement corresponding to this view.
This measurement-trajectory is a straight line in cartesian space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Trajectory describing how to move the robot for this views measurement</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">moveit_msgs/RobotTrajectory</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="agiprobot_measurement.view.View.get_trajectory_to_view">
<code class="descname">get_trajectory_to_view</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View.get_trajectory_to_view"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View.get_trajectory_to_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the stored trajectory from a former state (might be robot’s current_state or the end point of a previously executed trajectory) to
the start state of this views’s measurement trajectory. This is useful to connect multiple views into an execution plan.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Trajectory from certain start state to this views’s measurement trajectory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">moveit_msgs/RobotTrajectory</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="agiprobot_measurement.view.View.reverse_trajectory_for_measurement">
<code class="descname">reverse_trajectory_for_measurement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View.reverse_trajectory_for_measurement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View.reverse_trajectory_for_measurement" title="Permalink to this definition">¶</a></dt>
<dd><p>Flips the measurement-trajectory of this view. The start-pose becomes the end-pose and vice versa. The execution time stays the same.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">NoneType</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="agiprobot_measurement.view.View.set_measurable_surface_point_indices_and_scores">
<code class="descname">set_measurable_surface_point_indices_and_scores</code><span class="sig-paren">(</span><em>measurable_point_indices</em>, <em>uncertainty_scores</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View.set_measurable_surface_point_indices_and_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View.set_measurable_surface_point_indices_and_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the indices of surface points measurable by this view’s measurement-trajectory as well as their model-predicted uncertainties. 
The indices are abstract and only meaningful when connected to a concrete surface-point-list which is maintained externally of the View-scope.
Both lists must have the same length.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>measurable_point_indices</strong> (<em>list</em><em>[</em><em>int</em><em>]</em>) – List of the indices of points in an external surface_point-list that can be measured by this view</li>
<li><strong>uncertainty_scores</strong> (<em>list</em><em>[</em><em>float</em><em>]</em>) – List of uncertainty-score values for the measured surface_point masked through the index at the same position</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="agiprobot_measurement.view.View.set_trajectory_for_measurement">
<code class="descname">set_trajectory_for_measurement</code><span class="sig-paren">(</span><em>trajectory_for_measurement</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View.set_trajectory_for_measurement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View.set_trajectory_for_measurement" title="Permalink to this definition">¶</a></dt>
<dd><p>Trajectory that is performed to execute the measurement corresponding to this view.
This measurement-trajectory is a straight line in cartesian space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trajectory_for_measurement</strong> (<em>moveit_msgs/RobotTrajectory</em>) – Trajectory describing how to move the robot for this views measurement</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="agiprobot_measurement.view.View.set_trajectory_to_view">
<code class="descname">set_trajectory_to_view</code><span class="sig-paren">(</span><em>trajectory_to_view</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agiprobot_measurement/view.html#View.set_trajectory_to_view"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#agiprobot_measurement.view.View.set_trajectory_to_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a trajectory that moves the robot to the start of the view’s measurement trajectory.
The trajectory can be arbitrary but must end at this start point. This is useful to connect multiple views into an execution plan.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trajectory_to_view</strong> (<em>moveit_msgs/RobotTrajectory</em>) – Trajectory from certain start state to this views’s measurement trajectory</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="module_sensor_model.html" class="btn btn-neutral float-left" title="Sensor Model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Sven Becker.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>